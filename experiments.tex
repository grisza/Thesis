%\cleardoublepage
%\phantomsection
\chapter{Eksperymenty badawcze}\label{chap:experiments}
Eksperymenty badawcze wyryfikujÄ…ce charakterystyki sensorÃ³w, jak rÃ³wnieÅ¼ dokÅ‚adnoÅ›ci opracowanej autorsko hybrydowej metody Å›ledzenia ruchu koÅ„czyn, zostaÅ‚y wykonane w~laboratorium technik multimedialnych w~Centrum Technologii Informacyjnych Politechniki ÅÃ³dzkiej. Jako ÅºrÃ³dÅ‚o danych referencyjnych wykorzystany zostaÅ‚ zainstalowany tam system Å›ledzenia ruchu firmy Vicon zbudowany na bazie 10 kamer Vicon T-40S \cite{ViconSpec} rejestrujÄ…cych ruch markerÃ³w. System dziaÅ‚a z~czÄ™stotliwoÅ›ciÄ… 100 klatek na sekundÄ™, a~dane przetwarzane byÅ‚y przez dedykowanÄ… aplikacjÄ™ Nexus w~wersji 2.0. Dane dla omÃ³wianej metody ([TODO] co to znaczy dane dla metody?) zostaÅ‚y zarejestrowane przez kontroler Microsoft Kinect w~wersji dla konsoli XBox 360 model 1413 oraz przez urzÄ…dzenie rejestrujÄ…ce dane z~czujnikÃ³w inercyjnych zaprojektowane i~wykonane samodzielnie. SzczegÃ³Å‚owy opis przeprowadzonych eksperymentÃ³w badawczych znajduje siÄ™ w~dalszej czÄ™Å›ci niniejszej dysertacji.
%nie wiem dlaczego w czÄ™Å›ci poÅ›wiÄ™conej eksperymentom znalazÅ‚a siÄ™ analiza czujnikÃ³w intercyjnych skoro one miaÅ‚y byÄ‡ wczeÅ›niej
% \section{UrzÄ…dzenie pomiarowe sygnaÅ‚Ã³w z~czujnikÃ³w inercyjnych}\label{sec:device:imuDevice}
% Pomiar ruchu rÄ™ki za pomocÄ… czujnikÃ³w inercyjnych wykorzystuje zintegrowane moduÅ‚y IveneSens MPU-6050 wykonane w~architekturze MEMS i~okreÅ›lane sÄ… jako urzÄ…dzenia posiadajÄ…ce 6 stopni swobody, co oznacza, Å¼e zarÃ³wno moduÅ‚ Å¼yroskopu, jak i~akcelerometru udostÄ™pniajÄ… pomiary w~kaÅ¼dej z~3 osi ukÅ‚adu wspÃ³Å‚rzÄ™dnych. Sensory te sÄ… bezpoÅ›rednio podÅ‚Ä…czone do mini komputera Arduino Due dziaÅ‚ajÄ…cego pod kontrolÄ… mikroprocesora Atmel bÄ™dÄ…cego przykÅ‚adem procesora w~architekturze ARM. Arduino stanowi mobilnÄ… jednostkÄ™ centralnÄ…, ktÃ³ra prowadzi odbiÃ³r danych bezpoÅ›rednio z~sensorÃ³w oraz ich przesÅ‚anie do komputera PC. Zbudowane urzÄ…dzenie zasilane jest prÄ…dem staÅ‚ym poprzez port mikro-USB (rysunek \ref{fig:device:circuitDiagram}, port USB1). \\

% Komunikacja komputera Arduino z~czujnikami inercyjnymi odbywa siÄ™ za pomocÄ… magistrali $I^2 C$, gdzie Arduino peÅ‚ni rolÄ™ urzÄ…dzenia typu \emph{master}, a~sensory \emph{slave}. Arduino Due posiada dwa fizyczne kontrolery tej magistrali, co umoÅ¼liwia podÅ‚Ä…czenie i~prawidÅ‚owÄ… obsÅ‚ugÄ™ do 4 urzÄ…dzeÅ„ MPU-6050, przy zaÅ‚oÅ¼eniu zmiany trybu adresowania dla dwÃ³ch z~nich w~celu unikniÄ™cia konfliktu pomiÄ™dzy urzÄ…dzeniami. Komunikacja odbywa siÄ™ przy wykorzystaniu dwÃ³ch linii: SDA -- odpowiedzialna za przesyÅ‚ danych oraz SCL, ktÃ³ra odpowiada za zegar taktujÄ…cy magistralÄ™. ModuÅ‚y MPU-6050 odpytywane sÄ… cyklicznie o~wartoÅ›ci pomiarÃ³w: temperatury ($t$), Å¼yroskopu wzglÄ™dem kaÅ¼dej z~3 osi ($g_x,g_y,g_z$) oraz akcelerometru rÃ³wnieÅ¼ wzglÄ™dem 3 osi ($a_x,a_y,a_z$). KaÅ¼da z~odczytanych wartoÅ›ci pomiarowych jest zapisana w~postaci 2-bajtowej liczby caÅ‚kowitej, co daje 14 bajtÃ³w danych dla kaÅ¼dego moduÅ‚u MPU-6050. Do jednej z~dostÄ™pnych magistrali $I^2 C$ podÅ‚Ä…czony jest takÅ¼e moduÅ‚ zegara DS--3230 odpowiedzialny za pomiar czasu jaki upÅ‚ywa pomiÄ™dzy dwiema kolejnymi ramkami pomiarÃ³w. \\
% Komunikacja pomiÄ™dzy urzÄ…dzeniem pomiarowym a~komputerem PC odbywa siÄ™ bezprzewodowo z~wykorzystaniem technologii Bluetooth. Odpowiedzialny za niÄ… jest moduÅ‚ HC05 emulujÄ…cy port szeregowy i~jako taki udostÄ™pniony na komputerze przetwarzajÄ…cym dane. PrÄ™dkoÅ›Ä‡ z~jakÄ… odbywa siÄ™ transmisja danych zostaÅ‚a skonfigurowana na 115200 bodÃ³w (\emph{ang. baud}). Konfiguracja taka pozwala na pÅ‚ynne pobieranie i~przesyÅ‚anie informacji ze Å›redniÄ… szybkoÅ›ciÄ… 100 ramek na sekundÄ™. Schemat budowy i~poÅ‚Ä…czeÅ„ pomiÄ™dzy poszczegÃ³lnymi elementami urzÄ…dzenia pomiarowego przedstawiony jest na rysunku \ref{fig:device:circuitDiagram}. Elementy opisane powyÅ¼ej, kluczowe dla dziaÅ‚ania urzÄ…dzenia pomiarowego sygnaÅ‚Ã³w z~czujnikÃ³w inercyjnych, wyrÃ³Å¼nione zostaÅ‚y kolorem niebieskim.\\


% Pojedyncza ramka oprÃ³cz kompletu pomiarÃ³w z~dwÃ³ch czujnikÃ³w zawiera rÃ³wnieÅ¼ znaki kontrolne okreÅ›lajÄ…ce poczÄ…tek i~koniec pojedynczej ramki, jej numer w~sekwencji oraz wspomniany wczeÅ›niej czas jaki upÅ‚ynÄ…Å‚ pomiÄ™dzy dwoma kolejnymi pomiarami. PeÅ‚en zestaw przesyÅ‚anych danych zajmuje Å‚Ä…cznie 22 bajty.

% \input{images/arduino}
%tego nie sprawdzam, bo mam wraÅ¼enie, Å¼e to juÅ¼ byÅ‚o wczesniej, chyba, ze chcesz dodaÄ‡ konfiguracjÄ™ urzadzeÅ„ pomiarowych, tylko, Å¼e temu byÅ‚o poÅ›wiÄ™cone duÅ¼o miejsca nieco wczeÅ›niej
\section{Scena}

Obszar roboczy, na ktÃ³rym dokonywane byÅ‚y pomiary ruchu, zostaÅ‚ zamkniÄ™ty w~przestrzeni (prostopadÅ‚oÅ›cianu) obserwowanej przez kamery systemu Vicon, ktÃ³rej obrys podstawy zbliÅ¼ony byÅ‚ do kwadratu $4m$x$4m$. W~trakcie kalibracji systemu referencyjnego punkt poczÄ…tkowy $\left(0, 0, 0\right)$ zostaÅ‚ zdefiniowany w~miejscu, w~ktÃ³rym zostaÅ‚ umieszczony kontroler Kinect ([TODO] niezbÄ™dny jest rysunek ze schamtem sceny). W~trakcie trwania eksperymentu, badany uÅ¼ytkownik staÅ‚ w~odlegÅ‚oÅ›ci ok. $2m$ od Kinecta, czyli w~odlegÅ‚oÅ›ci, w~ktÃ³rej dziaÅ‚a on najbardziej dokÅ‚adnie. Eksperymenty badawcze, opisane w~niniejszej pracy, zostaÅ‚y przeprowadzone na przykÅ‚adzie ruchu prawej rÄ™ki ([TODO] ale w eksperymentach biorÄ… udziaÅ‚ 2 rÄ™ce?), jednak nie ogranicza to moÅ¼liwoÅ›ci zastosowania opracowanej w pracy metody do Å›ledzenia pozostaÅ‚ych koÅ„czyn. Markery niezbÄ™dne do prawidÅ‚owego dziaÅ‚ania systemu Å›ledzenia ruchu firmy Vicon zostaÅ‚y umieszczone wedÅ‚ug schematu zamieszczonego na rysunku \ref{fig:experiments:viconArm}

\begin{figure}[!htp]
	\centering
	\includegraphics[width=0.6\textwidth]{images/Fig11.png}
	\caption{Schemat romieszczenia markerÃ³w na rÄ™ce zgodny z zaleceniami systemu Vicon}
	\label{fig:experiments:viconArm}
\end{figure}

SposÃ³b umieszczenia markerÃ³w zostaÅ‚ zaczerpniÄ™ty ze schematu ich rozmieszczenia zawartego w~instrukcji do systemu Vicon, jednak poszerzony zostaÅ‚ o~dodatkowe markery tak, aby nadgarstek i~Å‚okieÄ‡ Å›ledzony byÅ‚ za pomocÄ… 4 znacznikÃ³w a~ramiÄ™ za pomocÄ… 3. Aby mÃ³c skutecznie porÃ³wnaÄ‡ ze sobÄ… poÅ‚oÅ¼enie stawÃ³w, wyznaczonych na podstawie pomiarÃ³w z~kontrolera Kinect i~z czujnikÃ³w inercyjnych z~tymi wyznaczonymi przez system Å›ledzenia ruchu Vicon, wspÃ³Å‚rzÄ™dne Å›ledzonych markerÃ³w, reprezentujÄ…ce wybrany staw, muszÄ… byÄ‡ uÅ›rednione, tak Å¼eby na ich podstawie obliczyÄ‡ wspÃ³Å‚rzÄ™dne stawÃ³w analizowanej koÅ„czyny. Do dokÅ‚adnego wyznaczenia pojedynczego punktu reprezentujÄ…cego staw, niezbÄ™dne jest ([TODO] mam wÄ…tpliwoÅ›ci czy faktycznie jest niezbÄ™dny czy tylko pomocny, bo przecieÅ¼ da siÄ™ obliczyÄ‡ na bazie 1 punktu zakÅ‚adajÄ…c pewien model biomechaniczny??) oszacowanie poÅ‚oÅ¼enia 3 markerÃ³w. DziÄ™ki zastosowaniu uzupeÅ‚niajÄ…cych markerÃ³w do ukÅ‚adu rekomendowanego przez firmÄ™ Vicon, udaÅ‚o siÄ™ znacznie ograniczyÄ‡ liczbÄ™ klatek pomiarowych, na ktÃ³rych byÅ‚y widoczne mniej niÅ¼ 3 markery, przez co precyzja Å›ledzenia ruchu koÅ„czyn byÅ‚a wiÄ™ksza.  \\ 

System Å›ledzenia ruchu Vicon, w~wykorzystanej konfiguracji, dostarczaÅ‚ pomiary co 10 ms tj. dziaÅ‚aÅ‚ z~czÄ™stotliwoÅ›ciÄ… 100 Hz. ([TODO] moÅ¼na coÅ› wspomnieÄ‡ o ksiÄ…zkowej dokÅ‚adnoÅ›ci tego systemu i Å¼e moÅ¼e pracowaÄ‡ z wieksza czÄ™stotliwoÅ›ciÄ… tylko Å¼e nie jest to potrzebne)\\

OprÃ³cz markerÃ³w niezbÄ™dnych dla poprawnego dziaÅ‚ania systemu Vicon na przedramieniu i~ramieniu, w~poÅ‚owie ich dÅ‚ugoÅ›ci, zostaÅ‚y umieszczone czujniki inercyjne. Czujniki te, aby moÅ¼liwie wiernie rejestrowaÅ‚y ruchy koÅ„czyn zostaÅ‚y przymocowane do skÃ³ry za pomocÄ… taÅ›my klejÄ…cej oraz dodatkowo dociÅ›niÄ™te elastycznymi opaskami. DziÄ™ki temu byÅ‚y one w~stanie wykonywaÄ‡ obroty wraz z~koÅ„czynami. ([TODO] koniecznie trzeba wspomnieÄ‡ w ktÃ³rym miejscu koÅ„czyny po obwodzie zostaÅ‚y przymocowane. Warto napisaÄ‡, Å¼e powinno siÄ™ przymocowywaÄ‡ je blisko koÅ›ci aby praca miÄ™Å›ni nie miaÅ‚a wpÅ‚ywu na przemiszczanie czujnika wzglÄ™dem koÅ›ci. MoÅ¼e jakiaÅ› pozycja literaturowa, ktÃ³ra o tym pisze.)

PeÅ‚ne rozmieszczenie urzÄ…dzeÅ„ na scenie prezentuje rysunek \ref{fig:experiments:scene}. ProstokÄ…ty dookoÅ‚a obszaru roboczego oznaczone V1 -- V10 to kamery systemu Vicon.
%ten rysunek powinien byc znacznie wczeÅ›niej, powinien mieÄ‡ oznaczone ukÅ‚ady wspÃ³Å‚rzednych i powinno byc od niego odwoÅ‚anie w treÅ›ci pracy
\begin{figure}[!htp]
	\centering
	\includegraphics[width=0.6\textwidth]{images/scene.png}
	\caption{Schemat rozmieszczenia elementÃ³w sceny w~laboratorium}
	\label{fig:experiments:scene}
\end{figure}

\section{Badanie ruchu}

KaÅ¼dy z~ruchÃ³w rÄ™ki byÅ‚ wykonany przez troje aktorÃ³w i~powtÃ³rzony 10 razy w~dwÃ³ch seriach po 5 powtÃ³rzeÅ„. Podzielenie caÅ‚ego Ä‡wiczenia na serie z~mniejszÄ… liczbÄ… powtÃ³rzeÅ„ zwiÄ…zane byÅ‚o z~efektem zmÄ™czenia aktorÃ³w, jakie byÅ‚o widoczne wraz z~kolejnymi powtÃ³rzeniami. Ä†wiczenia jakie naleÅ¼aÅ‚o wykonaÄ‡ zostaÅ‚y dobrane w~taki sposÃ³b, aby sprawdziÄ‡ opisanÄ… metodÄ™ zarÃ³wno w~sytuacjach, w~ktÃ³rych kontroler Kinect i~czujniki inercyjne dziaÅ‚ajÄ… w~uprzywilejowanym dla nich zakresie pracy jak i~w~takich, w~ktÃ³rych jedno z~urzÄ…dzeÅ„ posiada istotne ograniczenia w~dziaÅ‚aniu. Wszystkie sekwencje rozpoczynaÅ‚y siÄ™ od pozycji wyjÅ›ciowej z~rÄ™kami rozÅ‚oÅ¼onymi na boki tzw. \emph{T--pose}. NastÄ™pnie, wykonywano zgiÄ™cie rÄ…k w~Å‚okciu ku gÃ³rze i~ich wyprostowanie w~celu zsynchronizowania pomiarÃ³w Kinecta i~czujnikÃ³w inercyjnych w~czasie. Po sekwencji synchronizujÄ…cej nastÄ™powaÅ‚y wÅ‚aÅ›ciwe Ä‡wiczenia, w~ktÃ³rych kaÅ¼de powtÃ³rzenie zaczynaÅ‚o i~koÅ„czyÅ‚o siÄ™ pozycjÄ… \emph{T--pose}. Wykonywane Ä‡wiczenia prezentuje rysunek \ref{fig:experiments:poses}

\begin{figure}[!htp]
	\centering
	\includegraphics[width=\textwidth]{images/poses.png}
	\caption{Ä†wiczenia wykonywane w~ramach eksperymentu}
	\label{fig:experiments:poses}
\end{figure}

W kolejnoÅ›ci wykonywane Ä‡wiczenia to:
\begin{enumerate}
	\item ZgiÄ™cie rÄ™ki w~Å‚okciu do gÃ³ry; \\
	\item ZgiÄ™cie rÄ™ki w~Å‚okciu do przodu; \\
	\item WyciÄ…gniÄ™cie wyprostowanych ramion do przodu; \\
	\item Utrzymanie wyprostowanych ramion w~bezruchu przez czas okoÅ‚o 60s; \\
\end{enumerate}

Ä†wiczenie 1 wykonywane byÅ‚o w~pÅ‚aszczyÅºnie, w~ktÃ³rej czujniki inercyjne sÄ… w~stanie dokonywaÄ‡ dokÅ‚adnych i~stabilnych w~czasie pomiarÃ³w, natomiast dla Kinecta nie nastÄ™puje okluzja stawÃ³w. Ä†wiczenia 2 i~3 wymagajÄ… wykonania ruchu w~pÅ‚aszczyÅºnie, w~ktÃ³rej pomiary czujnikÃ³w inercyjnych sÄ… bÅ‚Ä™dne i~nie mogÄ… byÄ‡ traktowane jako wiarygodne. Dodatkowo, w~trakcie wykonywania Ä‡wiczenia, kontroler Kinect traci moÅ¼liwoÅ›Ä‡ obserwacji stawÃ³w rÄ™ki z~powodu ich przesÅ‚aniania siÄ™. Ostatnie Ä‡wiczenie z~kolei sprawdza stabilnoÅ›Ä‡ pomiaru w~bez ruchu, ktÃ³ry obarczony jest dryfem pomiarÃ³w ze strony akcelerometru i~Å¼yroskopu.\\

Wszystkie pomiary zostaÅ‚y nastÄ™pnie ([TODO] co to znaczy nastepnie, kiedy? i jak zsynchronizowane skoro wczeÅ›niej byÅ‚a tylko mowa o synchronizacji IMU z Kinectem) zsynchronizowane czasowo z~pomiarami referencyjnymi uzyskanymi za pomocÄ… systemu Å›ledzenia Vicon i~porÃ³wnane z~nimi w~celu okreÅ›lenia dokÅ‚adnoÅ›ci wyznaczania pozycji stawÃ³w i~kÄ…ta zgiÄ™cia w~Å‚okciu. UkÅ‚ady wspÃ³Å‚rzÄ™dnych systemu Å›ledzenia Vicon i~systemu opartego na autorskiej metodzie Å›ledzenia ruchu zostaÅ‚y ujednolicone. Jako gÅ‚Ã³wny przyjÄ™to ukÅ‚ad odniesienia drugiego ze wspomnianych systemÃ³w. ([TODO] dlaczego ukÅ‚ad Kinecta byÅ‚ wiodÄ…cy a nie ukÅ‚Ä…d Vicona? Vicon wydaje siÄ™ bardziej stabilny.) Zaprezentowane w~niniejszym rozdziale wyniki sÄ… Å›redniÄ… z~uzyskanych porÃ³wnaÅ„ pomiarÃ³w ([TODO] co to jest Å›rednia z porÃ³wnaÅ„ pomiarÃ³w?? MoÅ¼e trzeba napisaÄ‡ co byÅ‚o uÅ›redniane i dlaczego i co byÅ‚o porÃ³wnywane?). Dodatkowo, oprÃ³cz porÃ³wnania ich do danych referencyjnych (pochodzÄ…cych z systemu Vicon), otrzymane wyniki porÃ³wnane zostaÅ‚y takÅ¼e z~pomiarami uzyskanymi za pomocÄ… metody o~najwyÅ¼szej opisanej w~literaturze dokÅ‚adnoÅ›ci, opierajÄ…cej siÄ™ na Å‚Ä…czeniu danych o~pozycjach poszczegÃ³lnych stawÃ³w tj. metodÄ… zaproponowanÄ… przez Kalkbrenner et al. \cite{Kalkbrenner2014}.(nazywana dalej metodÄ… Kalkbrennera)\\
%trzeba wprowadzic pojÄ™cie Å›redniej dokÅ‚adnoÅ›ci, ktÃ³re nastÄ™pnie pojawi siÄ™ analizie. Nie wiadomo dokÅ‚adnie z tekstu jak Å›rednie odlegÅ‚oÅ›ci przekÅ‚adajÄ… siÄ™ na dokÅ‚adnoÅ›Ä‡ szacowania pozycji. Ta dyskusja juÅ¼ byÅ‚a: czy szacujemy bÅ‚Ä…d, czy szacujemy dokÅ‚adnoÅ›Ä‡, czy moÅ¼e coÅ› jeszcze?
Wyniki zebrane w~tabelach \ref{tab:experiments:first:avg} i~\ref{tab:experiments:four:avg} sÄ Å›rednimi odlegÅ‚oÅ›ciami euklidesowymi ($\bar{d}$) pomiÄ™dzy poÅ‚oÅ¼eniem Å›ledzonego stawu w~systemie Vicon ($p_V$), a~jego estymowanym poÅ‚oÅ¼eniem ($p_E$), wyznaczonymi wedÅ‚ug wzoru \eqref{eq:experiments:euclidean}. Estymacja poÅ‚oÅ¼enia $p_E$ odbywa siÄ™ za pomocÄ… dwÃ³ch porÃ³wnywanych ze sobÄ… metod: metody Kalkbrennera ($p_Ep$) i~metody zaproponowanej przez autora niniejszej dysertacji ($p_Eo$). 
%([TODO] w opisie brakuje opisu symbolu T. Poza tym p_E dla kalkbrenera i TwÃ³j powinny mieÄ‡ w tabelach inne oznaczenia. PodaÄ‡ jeszcze interpretacjÄ™ Å›rednich odlegÅ‚oÅ›ci, tzn. Å¼e chodzi o Å›redni bÅ‚Ä…d oszacowania)

\begin{equation}
	\bar{d} = \frac{1}{T}\sum_{i=1}^{T}{\norm{p_V - p_E}}
	\label{eq:experiments:euclidean}
\end{equation}

Analogicznie wyznaczona jest jest wartoÅ›Ä‡ Å›rednia dla kÄ…ta w~Å‚okciu.\\
KaÅ¼da wartoÅ›Ä‡ ([TODO] podac symbol tego co jest liczone) wyliczona jest na podstawie sekwencji 5 powtÃ³rzeÅ„ tego samego ruchu wykonywanych w~wolnym tempie. ([TODO] tzn jak 5 powtÃ³rzeÅ„ jest brane pod uwagÄ™ gdy obliczane sa wyniki. Co jest uÅ›redniane, kiedy i jak?)
PorÃ³wnanie pomiÄ™dzy wynikami uzyskanymi za pomocÄ… obu metod zostaÅ‚o wyznaczone jako stosunek rÃ³Å¼nicy pomiÄ™dzy Å›rednimi dokÅ‚adnoÅ›ciami wynikÃ³w uzyskanych za pomocÄ… metody autora oraz metody Kalkbrennera do Å›redniej dokÅ‚adnoÅ›ci metody Kalkbrennera (wz. \eqref{eq:experiments:comparison}).\\
([TODO] Å›rednia dokÅ‚adnoÅ›Ä‡ jest pojÄ™ciem nie do koÅ„ca zdefiniowanym)
\begin{equation}
	r = \frac{\bar{d_Ep} - \bar{d_Eo}}{\bar{d_Ep}}
	\label{eq:experiments:comparison}
\end{equation}
gdzie:
\begin{conditions}
	\bar{d_Ep} & Å›rednia dokÅ‚adnoÅ›Ä‡ metody Kalkbrennera (oparta o~Å‚Ä…czenie pozycji stawÃ³w),\\	
	\bar{d_Eo} & Å›rednia dokÅ‚adnoÅ›Ä‡ metody autora niniejszej pracy (oparta o~Å‚Ä…czenie orientacji przestrzennej koÅ›ci).\\
\end{conditions}

([TODO] w opisie powyÅ¼ej nie byÅ‚o Å¼adnej informacji o modelu biomechanicznym koÅ›ci, a przeciez coÅ› byÅ‚o przyjmowane aby moÅ¼na byÅ‚o to wszystko wyliczyÄ‡!!!)
\section*{Ä†wiczenie 1 -- ZgiÄ™cie ramienia w~Å‚okciu do gÃ³ry}
Pierwsze Ä‡wiczenie, jakie zostaÅ‚o wykonane z~uÅ¼yciem omawianej metody, to zgiÄ™cie rÄ™ki w~Å‚okciu do~gÃ³ry. Jest to ruch Å‚atwy do Å›ledzenia dla obu urzÄ…dzeÅ„ pomiarowych ze wzglÄ™du na brak wystÄ™powania okluzji stawÃ³w oraz prostopadÅ‚ej do wektora grawitacji pÅ‚aszczyÅºnie wykonywania ruchu. Wyniki uzyskane w~tym Ä‡wiczeniu prezentuje tabela \ref{tab:experiments:first:avg}
%w tabeli pojawia siÄ™ Å›rednia, ale nie wiemy jaka to Å›rednia. W wierszach jest 6 pozycji wiÄ™c nie wiemy skÄ…d 6 skoro byÅ‚y 2 serie po 5 ?? Jak siÄ™ majÄ… wartoÅ›ci w wierszach do wspÃ³lczynnikÃ³w i parametrÃ³w, ktÃ³re sa liczone powyÅ¼ej (r, Å›rednia dokÅ‚adnoÅ›Ä‡, Å›redni bÅ‚Ä…d) ? TrochÄ™ jest w tym baÅ‚agan.
\begin{table}[!htp]
	\caption{Åšrednia dokÅ‚adnoÅ›Ä‡ pomiarÃ³w dla Ä‡wiczenia nr 1}
	\label{tab:experiments:first:avg}
	\noindent
	\tiny
	\centering
	\begin{tabular}{|c|c|c|c|c|c|c|}
		\hline 
		& \multicolumn{3}{c|}{Metoda autorska} & \multicolumn{3}{c|}{Metoda Kalkbrennera}  \\ 
		\hline 
		           & PoÅ‚oÅ¼enie    & PoÅ‚oÅ¼enie       & KÄ…t                  & PoÅ‚oÅ¼enie    & PoÅ‚oÅ¼enie       & KÄ…t                  \\
		           & Å‚okcia $[cm]$ & nadgarstka $[cm]$ & w~Å‚okciu	$[\degree]$ & Å‚okcia $[cm]$ & nadgarstka $[cm]$ & w~Å‚okciu	$[\degree]$ \\
		\hline
		1          & 2.2            & 2.7               & 3.24                  & 2.6            & 3.1               & 3.44                  \\
		2          & 2.3            & 2.8               & 3.33                  & 2.7            & 3.1               & 3.77                  \\
		3          & 2.2            & 2.7               & 3.15                  & 2.5            & 3.0               & 3.42                  \\
		4          & 2.3            & 2.7               & 3.18                  & 2.6            & 3.0               & 3.48                  \\
		5          & 2.1            & 2.8               & 3.35                  & 2.5            & 2.9               & 3.51                  \\
		6          & 2.3            & 2.8               & 3.52                  & 2.6            & 3.0               & 3.63                  \\
		\hline
		Åšrednia   & 2.2            & 2.8               & 3.30                  & 2.6            & 3.0               & 3.542                 \\
		Odchylenie & 0.08           & 0.05              & 0.12                  & 0.07           & 0.07              & 0.12                  \\
		\hline
	\end{tabular} 
			
\end{table} 

Ä†wiczenie polegajÄ…ce na wielokrotnym zgiÄ™ciu rÄ™ki w~Å‚okciu do gÃ³ry, zgodnie z~przewidywaniami, dla obu urzÄ…dzeÅ„ pomiarowych nie byÅ‚y trudne. Przez caÅ‚y czas trwania Ä‡wiczenia stawy byÅ‚y poprawnie identyfikowane i~w~peÅ‚ni Å›ledzone przez kontroler Kinect. TakÅ¼e czujniki inercyjne byÅ‚y w~stanie zarejestrowaÄ‡ w~peÅ‚ni  wykonywany ruch. TakÅ¼e obie porÃ³wnywane ze sobÄ… metody Å‚Ä…czÄ…ce dane dokonywaÅ‚y zbliÅ¼onych obliczeÅ„, a~zakres szacowanego przez nie ruchu byÅ‚ zbliÅ¼ony do tego wykonywanego na Å¼ywo. Widoczne byÅ‚o natomiast zrÃ³Å¼nicowanie w~dopasowaniu szkieletu do ciaÅ‚a ze wzglÄ™du na przyjÄ™ty model dÅ‚ugoÅ›ci koÅ›ci. W~metodzie Kalkbrennera miaÅ‚a miejsce czÄ™sta zmiana tego oszacowania co wpÅ‚ywaÅ‚o, Å¼e Å›ledzony staw potrafiÅ‚ zmieniÄ‡ swoje poÅ‚oÅ¼enie bez ruchu, a~takÅ¼e znaleÅºÄ‡ siÄ™ poza konturem postaci. W~przypadku metody autora niniejszej rozprawy, zauwaÅ¼alne byÅ‚y czÄ™ste, jednak niewielkie, fluktuacje pozycji ([TODO] pozycji czego?) jednak nie wpÅ‚ywaÅ‚y one ([TODO] na co?) w~takim stopniu jak zmienna dÅ‚ugoÅ›Ä‡ segmentÃ³w reprezentujÄ…cych koÅ›ci. Wydaje siÄ™ rÃ³wnieÅ¼, Å¼e to wÅ‚aÅ›nie brak staÅ‚ego modelu dÅ‚ugoÅ›ci koÅ›ci w~metodzie Kalkbrennera ma najwiÄ™kszy wpÅ‚yw na rÃ³Å¼nicÄ™ uzyskiwanych wynikÃ³w.\\
([TODO] pojawia siÄ™ jedynie analiza pozycji a co z czasem?? Brak poza tym dokÅ‚adnej deklaracji jak w Twojej metodzie przyjÄ™ty jest model kostny.)

W omawianym Ä‡wiczeniu ruch wykonywany byÅ‚ gÅ‚Ã³wnie przez przedramiÄ™, czyli zmiany poÅ‚oÅ¼enia byÅ‚y widoczne na stawie nadgarstkowym. Wykresy \ref{fig:experiments:first:wristX}, \ref{fig:experiments:first:wristY},\ref{fig:experiments:first:wristZ} pokazujÄ… poÅ‚oÅ¼enie stawu nadgarstkowego w~kaÅ¼dej z~3 osi w~trakcie wykonywania ruchu. WidaÄ‡ na nich wyraÅºnÄ… rÃ³Å¼nicÄ™ w~stabilnoÅ›ci pomiarÃ³w objawiajÄ…ca siÄ™ ciÄ…gÅ‚ymi drganiami widocznymi na wykresie zÅ‚Ä…czenia danych za pomocÄ… metody Kalkbrennera.

%\begin{figure}[!htb]
%\centering
%\includegraphics[width=0.9\linewidth]{images/100/Slide1.jpg}
%\caption{Wykres przedstawiajÄ…cy poÅ‚oÅ¼enie stawu Å‚okciowego w~osi X}
%\label{fig:experiments:first:ElbowX}
%\end{figure}

([TODO] w poniÅ¼szych rysunkach trzeba powiÄ™kszyÄ‡ teksty opisu, bo sa niewidoczne. Poza tym warto dla dowolnego fragmentu wykresu zastosowaÄ‡ coÅ› na zasadzie lupy aby dokÅ‚adniej zobaczyÄ‡ jak siÄ™ majÄ… te wykresy do siebie. Teraz jest trochÄ™ maÅ‚o czytelnie.)
\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.9\linewidth]{images/100/Slide4.jpg}
	\caption{Wykres przedstawiajÄ…cy poÅ‚oÅ¼enie stawu nadgarstkowego w~osi X}
	\label{fig:experiments:first:wristX}
\end{figure}


\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.9\linewidth]{images/100/Slide5.jpg}
	\caption{Wykres przedstawiajÄ…cy poÅ‚oÅ¼enie stawu nadgarstkowego w~osi Y}
	\label{fig:experiments:first:wristY}
\end{figure}

\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.9\linewidth]{images/100/Slide6.jpg}
	\caption{Wykres przedstawiajÄ…cy poÅ‚oÅ¼enie stawu nadgarstkowego w~osi Z}
	\label{fig:experiments:first:wristZ}
\end{figure}

Rysunki \ref{fig:experiments:first:raw} oraz \ref{fig:experiments:first:fused} pokazujÄ… wizualizacjÄ™ ruchu rÄ™ki podczas tego Ä‡wiczenia. W~przypadku obu metod Å‚Ä…czenia danych widaÄ‡ poprawÄ™ pozycjonowania stawÃ³w wzglÄ™dem danych otrzymanych bezpoÅ›rednio z~urzÄ…dzeÅ„ pomiarowych. 

\begin{figure}[!htb]
	\captionsetup{singlelinecheck=off}
	\centering
	\subfigure[Wizualizacja ruchu bezpoÅ›rednio z~urzÄ…dzeÅ„ pomiarowych]{\includegraphics[width=0.45\linewidth]{images/100/raw.png}	\label{fig:experiments:first:raw}}	
	\subfigure[Wizualizacja ruchu po zÅ‚Ä…czeniu danych z~urzÄ…dzeÅ„ pomiarowych]{\includegraphics[width=0.45\linewidth]{images/100/Fused.png}		\label{fig:experiments:first:fused}}
	%w podpisie nie robiÅ‚bym takiego wypunktowania, tylko wymieniÅ‚ po kolei, bo to Åºle wyglÄ…da. Poza tym na rysunku drugim widaÄ‡, Å¼e Kalkrener jest dokÅ‚adniejszy niÅ¼ Twoja metoda, bo jest bliÅ¼szy Vicona.	
	\caption[Wizualizacja poÅ‚oÅ¼enia stawÃ³w rÄ™ki w~Ä‡wiczeniu 1]{Wizualizacja poÅ‚oÅ¼enia stawÃ³w rÄ™ki w~Ä‡wiczeniu 1. Kolory:}	
	\begin{itemize}
		\item Czarny -- Vicon
		\item Niebieski -- czujniki inercyjne
		\item Zielony -- Kinect
		\item Szary -- metoda Kalkbrennera
		\item PomaraÅ„czowy -- metoda autorska
	\end{itemize}
\end{figure}

\section*{Ä†wiczenia 2 i~3 -- ZgiÄ™cie ramienia w~Å‚okciu do przodu oraz wyciÄ…gniÄ™cie wyprostowanych ramion do przodu}
Ä†wiczenia 2 i~3 przedstawiajÄ… ruchy o~zwiÄ™kszonym stopniu trudnoÅ›ci Å›ledzenia dla obu urzÄ…dzeÅ„ pomiarowych. W~tym przypadku nastÄ™puje stopniowe przysÅ‚anianie jednego ze stawÃ³w co oznacza utratÄ™ moÅ¼liwoÅ›ci dokÅ‚adnego Å›ledzenia ruchu przez kontroler Kinect. Dodatkowo ruch odbywaÅ‚ siÄ™ w~pÅ‚aszczyÅºnie trudnej z~punktu widzenia czujnikÃ³w inercyjnych, poniewaÅ¼ obrÃ³t dokonywany byÅ‚ wokÃ³Å‚ osi rÃ³wnolegÅ‚ej do wektora grawitacji. Tabela \ref{tab:experiments:sec:avg} przedstawia Å›rednie dokÅ‚adnoÅ›ci wykonywanego ruchu samego przedramienia, natomiast tabela \ref{tab:experiments:thr:avg} przedstawia wyniki dla ruchu caÅ‚ej wyprostowanej rÄ™ki.

([TODO] nie zdefiniowano pojÄ™cia Å›redniej dokÅ‚adnoÅ›ci i teraz to samo zamieszanie co wczeÅ›niej. DObrze wprowadziÄ‡ symbol dla Å›redniej dokÅ‚adnoÅ›ci i potem go konsekwentnie uzywaÄ‡ w tabelach i opisach. SKÄ…d w tabeli jest 6 wierszy? Z czego to siÄ™ wziÄ™Å‚o?)

\begin{table}[!htp]
	\caption{Åšrednia dokÅ‚adnoÅ›Ä‡ pomiarÃ³w dla Ä‡wiczenia nr 2}
	\label{tab:experiments:sec:avg}
	\noindent
	\tiny
	\centering
	\begin{tabular}{|c|c|c|c|c|c|c|}
		\hline 
		& \multicolumn{3}{c|}{Metoda autorska} & \multicolumn{3}{c|}{Metoda Kalkbrennera}  \\ 
		\hline 
		           & PoÅ‚oÅ¼enie    & PoÅ‚oÅ¼enie       & KÄ…t                  & PoÅ‚oÅ¼enie    & PoÅ‚oÅ¼enie       & KÄ…t                  \\
		           & Å‚okcia $[cm]$ & nadgarstka $[cm]$ & w~Å‚okciu	$[\degree]$ & Å‚okcia $[cm]$ & nadgarstka $[cm]$ & w~Å‚okciu	$[\degree]$ \\
		\hline
		1          & 2.7            & 3.0               & 14.46                 & 3.1            & 3.5               & 15.01                 \\
		2          & 2.5            & 2.8               & 12.72                 & 3.1            & 3.0               & 13.07                 \\
		4          & 2.4            & 2.7               & 12.78                 & 2.8            & 3.0               & 14.49                 \\
		5          & 2.4            & 2.9               & 13.38                 & 3.1            & 3.0               & 15.28                 \\
		6          & 2.5            & 2.9               & 13.41                 & 3.2            & 3.0               & 14.61                 \\
		\hline
		Åšrednia   & 2.5            & 2.9               & 13.35                 & 3.1            & 3.4               & 14.49                 \\
		Odchylenie & 0.11           & 0.1               & 0.65                  & 0.14           & 0.12              & 0.77                  \\
		\hline
	\end{tabular} 
			
\end{table} 

\begin{table}[!htp]
	\caption{Åšrednia dokÅ‚adnoÅ›Ä‡ pomiarÃ³w dla Ä‡wiczenia nr 3}
	\label{tab:experiments:thr:avg}
	\noindent
	\tiny
	\centering
	\begin{tabular}{|c|c|c|c|c|c|c|}
		\hline 
		& \multicolumn{3}{c|}{Metoda autorska} & \multicolumn{3}{c|}{Metoda Kalkbrennera}  \\ 
		\hline 
		           & PoÅ‚oÅ¼enie    & PoÅ‚oÅ¼enie       & KÄ…t                  & PoÅ‚oÅ¼enie    & PoÅ‚oÅ¼enie       & KÄ…t                  \\
		           & Å‚okcia $[cm]$ & nadgarstka $[cm]$ & w~Å‚okciu	$[\degree]$ & Å‚okcia $[cm]$ & nadgarstka $[cm]$ & w~Å‚okciu	$[\degree]$ \\
		\hline
		1          & 2.6            & 3.0               & 13.32                 & 3.1            & 3.5               & 15.75                 \\
		2          & 2.2            & 2.5               & 12.37                 & 2.9            & 3.3               & 13.12                 \\
		3          & 2.7            & 3.0               & 13.18                 & 2.7            & 3.1               & 12.54                 \\
		4          & 2.7            & 3.1               & 14.78                 & 3.1            & 3.5               & 16.41                 \\
		5          & 2.2            & 2.6               & 16.77                 & 2.7            & 3.0               & 15.75                 \\
		\hline
		Åšrednia   & 2.5            & 2.8               & 14.08                 & 2.9            & 3.3               & 14.71                 \\
		Odchylenie & 0.23           & 0.24              & 1.55                  & 0.18           & 0.2               & 1.57                  \\
		\hline
	\end{tabular} 
			
\end{table} 

W obu Ä‡wiczeniach w~trakcie wykonywania ruchu nastÄ™powaÅ‚ moment, w~ktÃ³rym jeden lub dwa stawy stawaÅ‚y siÄ™ niewidoczne dla kontrolera Kinect, a~co za tym idzie, obie metody musiaÅ‚y bazowaÄ‡ tylko na jednym ÅºrÃ³dle danych. Metoda opracowana przez autora niniejszej pracy nie wykorzystywaÅ‚a  w~trakcie Å‚Ä…czenia danych pomiarÃ³w uzyskanych z~niepewnego ÅºrÃ³dÅ‚a i~stopniowo wstrzymywaÅ‚a aktualizacjÄ™ estymowanego poÅ‚oÅ¼enia stawu. Natomiast metoda Kalkbrennera wykorzystywaÅ‚a w~dalszym ciÄ…gu dane z~kontrolera Kinect zmieniajÄ…c jedynie jego stopieÅ„ istotnoÅ›ci (rys. \ref{fig:experiments:sec:follow}). 

Ze wzglÄ™du na to, Å¼e kontroler Kinect, pomimo utraty moÅ¼liwoÅ›ci Å›ledzenia dowolnego stawu, wciÄ…Å¼ estymuje jego poÅ‚oÅ¼enie, zasadne jest sprawdzanie czy fuzja pomiarÃ³w dostarczonych przez kontroler Kinect z~pomiarami urzÄ…dzeÅ„ inercyjnych nie sprawi, Å¼e ostateczna estymacja poÅ‚oÅ¼enia stawu stanie siÄ™ zbyt niedokÅ‚adna. Metoda Kalkbrennera co prawda dokonuje takiego sprawdzenia w~trakcie stosowania filtru Kalmana, jednak widoczne byÅ‚o podÄ…Å¼anie szacunkowych wartoÅ›ci poÅ‚oÅ¼enia stawu za skokami danych z~Kinecta. Oznacza to, Å¼e wpÅ‚yw pomiarÃ³w kontrolera Kinect na ostatecznÄ… estymacjÄ™ jest znaczÄ…cy i~zastosowana w~metodzie Kalkbrennera zmiana stopnia ich istotnoÅ›ci w~procesie Å‚Ä…czenia danych jest niewystarczajÄ…ca na ograniczenie negatywnego wpÅ‚ywu niedokÅ‚adnoÅ›ci kontrolera Kinect.
%na pooniÅ¼szym rysunku totalnie p-omieszaÅ‚eÅ› kolory dla poszczegÃ³lnych metod i czujnikÃ³w. Trzeba to uporzÄ…dkowaÄ‡.
\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.8\linewidth]{images/300/Slide3_focus.png}
	\caption{Wykres przedstawiajÄ…cy podÄ…Å¼anie wyznaczania pozycji stawu za pomiarami Kinecta w~trakcie wykonywania Ä‡wiczenia 3}
	\label{fig:experiments:sec:follow}
\end{figure}

\begin{figure}[!htb]
	\captionsetup{singlelinecheck=off}
	\centering
	\subfigure[Wizualizacja ruchu bezpoÅ›rednio z~urzÄ…dzeÅ„ pomiarowych]{\includegraphics[width=0.45\linewidth]{images/200/raw.png}	\label{fig:experiments:sec:raw}}	
	\subfigure[Wizualizacja ruchu po zÅ‚Ä…czeniu danych z~urzÄ…dzeÅ„ pomiarowych]{\includegraphics[width=0.45\linewidth]{images/200/Fused.png}		\label{fig:experiments:sec:fused}}	
	\caption[Wizualizacja poÅ‚oÅ¼enia stawÃ³w rÄ™ki w~Ä‡wiczeniu 2]{Wizualizacja poÅ‚oÅ¼enia stawÃ³w rÄ™ki w~Ä‡wiczeniu 2.}	
	\label{fig:experiments:sec}
\end{figure}
%zlikwidowaÄ‡ takie wypunktowanie w podpisie rysunku. 
\begin{figure}[!htb]
	\captionsetup{singlelinecheck=off}
	\centering
	\subfigure[Wizualizacja ruchu bezpoÅ›rednio z~urzÄ…dzeÅ„ pomiarowych]{\includegraphics[width=0.45\linewidth]{images/300/raw.png}	\label{fig:experiments:th:raw}}	
	\subfigure[Wizualizacja ruchu po zÅ‚Ä…czeniu danych z~urzÄ…dzeÅ„ pomiarowych]{\includegraphics[width=0.45\linewidth]{images/300/Fused.png}		\label{fig:experiments:th:fused}}	
	\caption[Wizualizacja poÅ‚oÅ¼enia stawÃ³w rÄ™ki w~Ä‡wiczeniu 3]{Wizualizacja poÅ‚oÅ¼enia stawÃ³w rÄ™ki w~Ä‡wiczeniu 3. Kolory:}	
	\label{fig:experiments:th}
	\begin{itemize}
		\item Czarny -- Vicon
		\item Niebieski -- czujniki inercyjne
		\item Zielony -- Kinect
		\item Szary -- metoda Kalkbrennera
		\item PomaraÅ„czowy -- metoda autorska
	\end{itemize}
\end{figure}

Rysunki \ref{fig:experiments:sec:raw} i~\ref{fig:experiments:th:raw} przedstawiajÄ… wizualizacjÄ™ poÅ‚oÅ¼enia stawÃ³w rÄ™ki za estymowanÄ… na podstawiÄ™ pomiarÃ³w uzyskanych bezpoÅ›rednio z~urzÄ…dzeÅ„ pomiarowych ([TODO] to zdanie nie ma sensu i nie wiem jak je poprawiÄ‡). Widoczne na nich jest niedokÅ‚adne szacowanie poÅ‚oÅ¼enia stawu Å‚okciowego przez kontroler Kinect w~momencie jego przysÅ‚oniÄ™cia, a~z tym zwiÄ…zane jest takÅ¼e niedokÅ‚adne szacowanie poÅ‚oÅ¼enia nadgarstka, pomimo jego peÅ‚nej widocznoÅ›ci. Widoczne jest takÅ¼e bÅ‚Ä™dne szacowanie skrÄ™tu ([TODO] czego?) wzglÄ™dem osi grawitacji przez urzÄ…dzenia inercyjne. Wizualizuje to w~peÅ‚ni ograniczenia w~dziaÅ‚aniu obu urzÄ…dzeÅ„ pomiarowych, ktÃ³re zostaÅ‚y opisane w~rozdziale \ref{chap:characteristics}. W~przypadku wizualizacji pozycjonowania ([TODO] czego?) za pomocÄ… metody Kalkbrennera oraz metody autora niniejszej rozprawy (rys. \ref{fig:experiments:sec:fused} oraz \ref{fig:experiments:th:fused}) w~obu przypadkach widoczne jest zmniejszenie wpÅ‚ywu tych ([TODO] jakich?) ograniczeÅ„ na ostateczne szacowanie poÅ‚oÅ¼enia stawÃ³w. WidaÄ‡ rÃ³wnoczeÅ›nie wierniejsze odwzorowanie ruchu w~przypadku metody autora.\\

\section*{Ä†wiczenie 4 -- Utrzymanie wyprostowanych ramion}
Celem ostatniego Ä‡wiczenia byÅ‚o sprawdzenie stabilnoÅ›ci pomiarÃ³w w~przypadku dÅ‚ugiego braku ruchu. W~tym wypadku urzÄ…dzeniem, ktÃ³rego dane pomiarowe mogÄ… szczegÃ³lnie ulec pogorszeniu w~trakcie dziaÅ‚ania jest urzÄ…dzenie zbudowane z~czujnikÃ³w inercyjnych. Tabela \ref{tab:experiments:four:avg} zawiera zestawienie dokÅ‚adnoÅ›ci pomiarÃ³w dla tego eksperymentu.

\begin{table}[!htb]
	\caption{Åšrednia dokÅ‚adnoÅ›Ä‡ pomiarÃ³w dla Ä‡wiczenia nr 4}
	\label{tab:experiments:four:avg}
	\noindent
	\tiny
	\centering
	\begin{tabular}{|c|c|c|c|c|c|c|}
		\hline 
		& \multicolumn{3}{c|}{Metoda autorska} & \multicolumn{3}{c|}{Metoda Kalkbrennera}  \\ 
		\hline 
		           & PoÅ‚oÅ¼enie    & PoÅ‚oÅ¼enie       & KÄ…t                  & PoÅ‚oÅ¼enie    & PoÅ‚oÅ¼enie       & KÄ…t                  \\
		           & Å‚okcia $[cm]$ & nadgarstka $[cm]$ & w~Å‚okciu	$[\degree]$ & Å‚okcia $[cm]$ & nadgarstka $[cm]$ & w~Å‚okciu	$[\degree]$ \\
		\hline
		1          & 2.1            & 2.4               & 4.55                  & 2.4            & 2.7               & 4.86                  \\
		2          & 2.3            & 2.6               & 3.86                  & 2.4            & 2.7               & 5.10                  \\
		3          & 2.2            & 2.5               & 3.69                  & 2.6            & 2.8               & 4.23                  \\
		4          & 2.3            & 2.6               & 4.23                  & 2.5            & 2.8               & 4.61                  \\
		5          & 2.6            & 2.5               & 4.32                  & 2.4            & 2.7               & 4.84                  \\
		6          & 2.2            & 2.5               & 4.02                  & 2.3            & 2.7               & 4.26                  \\
		\hline
								
		Åšrednia   & 2.3            & 2.5               & 4.11                  & 2.5            & 2.8               & 4.65                  \\
		Odchylenie & 0.16           & 0.07              & 0.29                  & 0.08           & 0.04              & 0.32                  \\
		\hline
	\end{tabular} 
			
\end{table} 

Podobnie jak w~Ä‡wiczeniu 1 tak i~w~Ä‡wiczeniu 4 oba urzÄ…dzenia byÅ‚y w~stanie przez caÅ‚y czas trwania eksperymentu Å›ledziÄ‡ ruchy wykonywane przez Å›ledzonego aktora. Jednak podobnie jak we wspomnianym Ä‡wiczeniu, zmianie ulegaÅ‚y dÅ‚ugoÅ›ci segmentÃ³w koÅ›ci i~miaÅ‚o to przeÅ‚oÅ¼enie na dziaÅ‚anie metody Kalkbrennera. Wizualizacje Å‚aÅ„cuchÃ³w kinematycznych przedstawione na rysunku \ref{fig:experiments:four} pokazujÄ…, Å¼e Kinect, mimo peÅ‚nej widocznoÅ›ci caÅ‚ej rÄ™ki, miaÅ‚ trudnoÅ›Ä‡ z~poprawnym okreÅ›leniem jej pozycji w~osi pionowej. Mimo to obie metody byÅ‚y w~stanie wyznaczyÄ‡ pozycje stawÃ³w z~lepszÄ… dokÅ‚adnoÅ›ciÄ… niÅ¼ kaÅ¼de z~urzÄ…dzeÅ„ pomiarowych osobno.
%zlikwidowaÄ‡ brzydkie wypunktowanie w podpisie do rysunku
\begin{figure}[!htb]
	\captionsetup{singlelinecheck=off}
	\centering
	\subfigure[Wizualizacja ruchu bezpoÅ›rednio z~urzÄ…dzeÅ„ pomiarowych]{\includegraphics[width=0.45\linewidth]{images/400/raw.png}	\label{fig:experiments:four:raw}}	
	\subfigure[Wizualizacja ruchu po zÅ‚Ä…czeniu danych z~urzÄ…dzeÅ„ pomiarowych]{\includegraphics[width=0.45\linewidth]{images/400/Fused.png}		\label{fig:experiments:four:fused}}	
	\caption[Wizualizacja ruchu rÄ™ki w~Ä‡wiczeniu (4)]{Wizualizacja ruchu rÄ™ki w~Ä‡wiczeniu (4). Kolory:}	
	\label{fig:experiments:four}
	\begin{itemize}
		\item Czarny -- Vicon
		\item Niebieski -- czujniki inercyjne
		\item Zielony -- Kinect
		\item Szary -- metoda Kalkbrennera
		\item PomaraÅ„czowy -- metoda autorska
	\end{itemize}
\end{figure}

Wykresy estymacji poÅ‚oÅ¼enia stawÃ³w Å‚okciowego (rys. \ref{fig:experiments:four:elbowZ}) oraz nadgarstkowego (rys. \ref{fig:experiments:four:wristZ}) pozwalajÄ… zaobserwowaÄ‡ wpÅ‚yw stabilnoÅ›ci pomiarÃ³w jednego stawu na drugi. Jest to szczegÃ³lnie widoczne w~wykresie metody Kalkbrennera, gdzie amplituda drgaÅ„ pozycji nadgarstka jest widocznie wiÄ™ksza niÅ¼ w~przypadku drgaÅ„ Å‚okcia. 

\begin{figure}[!htb]
	\centering
	\subfigure[ÅokieÄ‡]{\includegraphics[width=0.45\linewidth]{images/400/3.jpg}	\label{fig:experiments:four:elbowZ}}	
	\subfigure[Nadgarstek]{\includegraphics[width=0.45\linewidth]{images/400/6.jpg} \label{fig:experiments:four:wristZ}}	
	\caption{Wykres poÅ‚oÅ¼enia stawÃ³w w~osi Z~w~Ä‡wiczeniu 4.}	
	\label{fig:experiments:four:Zaxis}
\end{figure}

\section{Podsumowanie}

Ä†wiczenia wykonywane w~ramach eksperymentÃ³w miaÅ‚y za zadanie sprawdziÄ‡ dziaÅ‚anie metody autora niniejszej pracy, a~takÅ¼e metody Kalkbrennera w~sytuacji, gdy jeden z~czujnikÃ³w przestaje byÄ‡ wiarygodny oraz kiedy dane otrzymywane degradowane sÄ… w~czasie. Dla kontrastu weryfikacja dokÅ‚adnoÅ›ci porÃ³wnywanych metod, dokonana zostaÅ‚a takÅ¼e na bazie Ä‡wiczenia, ktÃ³re dla obu urzÄ…dzeÅ„ pomiarowych moÅ¼e byÄ‡ nazywane neutralnym (Ä‡wiczenie 1).\\

PorÃ³wnane ze sobÄ… zostaÅ‚y 3 wartoÅ›ci: poÅ‚oÅ¼enie stawu Å‚okciowego, poÅ‚oÅ¼enie stawu nadgarstkowego oraz kÄ…t zgiÄ™cia rÄ™ki w~Å‚okciu. ([TODO] nieprawda bo nie porÃ³wnujesz stawu Å‚okciwego z kÄ…tem w Å‚okciu, a to wynika z Twojego zdania) Dwie pierwsze wartoÅ›ci pokazujÄ… na ile obie metody mogÅ‚yby byÄ‡ zastosowane w~systemach Å›ledzenia dla Å›rodowisk wirtualnych, gdzie dochodziÄ‡ moÅ¼e do interakcji z~otoczeniem. ([TODO] bardzo daleka alegoria, ktÃ³ra nie jest zrozumiaÅ‚a. SÅ‚abe uzasadnienie zastosowania dla Å›rodowisk wirtualnych. KtoÅ› moÅ¼e nie wiedzieÄ‡ jak siÄ™ ma jedno do drugiego, bo nic na ten temat wczesniej nie pisaÅ‚eÅ›) Trzecia wartoÅ›Ä‡ jest uniezaleÅ¼niona od przyjÄ™tego modelu dÅ‚ugoÅ›ci koÅ›ci i~jego ewentualnych bÅ‚Ä™dÃ³w oraz~zmiennoÅ›ci. ([TODO] wszystkie wartoÅ›ci sÄ… zaleÅ¼ne od przyjÄ™tego modelu koÅ›ci, a nie tylko ostatnia) Ona teÅ¼ pozwala na zweryfikowanie systemÃ³w ([TODO] jakich) na potrzeby Ä‡wiczeÅ„ rehabilitacyjnych majÄ…cych na celu poprawÄ™ zakresu ruchu stawÃ³w. \\ ([TODO] trochÄ™ te zdania mocno wydumane i pozbawione nalezytego wyjasnienia)

Wykresy z rysunkÃ³w \ref{fig:experiments:elbow:summary}, \ref{fig:experiments:wrist:summary} oraz \ref{fig:experiments:angle:summary} pokazujÄ… podsumowanie porÃ³wnania dokÅ‚adnoÅ›ci uzyskiwanych wynikÃ³w ([TODO] znowu nie wiadomo co to jest dokÅ‚adnoÅ›Ä‡ uzyskanych wynikÃ³w) za pomocÄ… metody Kalkbrennera oraz metody autora tej pracy ([TODO] teraz czuje, Å¼e metoda powinna mieÄ‡ jakiÅ› skrÃ³t, np. od angielskiej jej nazwy, ktÃ³rÄ… pewnie trzeba wymyÅ›leÄ‡). WidaÄ‡ na~nich poprawÄ™ w~wyznaczaniu poÅ‚oÅ¼enia stawu Å‚okciowego do 18\%, nadgarstowego do 16\% oraz zdolnoÅ›ci szacowania kÄ…ta zgiÄ™cia rÄ™ki w~Å‚okciu do 11\%. Z~przedstawionych wynikÃ³w wynika wiÄ™ksza poprawa w~wyznaczaniu pozycji Å‚okcia niÅ¼ w~przypadku nadgarstka. Spowodowane jest to kumulowaniem siÄ™ bÅ‚Ä™dÃ³w wÅ‚asnych estymacji poÅ‚oÅ¼enia nadgarstka, jak i~bÅ‚Ä™dÃ³w estymacji poÅ‚oÅ¼enia Å‚okcia. Jest to cecha charakterystyczna stosowania hierarchicznego modelu ciaÅ‚a czÅ‚owieka lub jego czÄ™Å›ci. Dla przyjÄ™tej hierarchicznej reprezentacji ukÅ‚adu kostnego postaci, czym badany staw jest bardziej odlegÅ‚y od punktu poczÄ…tkowego (korzenia) tym dokÅ‚adnoÅ›Ä‡ estymacji jego poÅ‚oÅ¼enia jest mniejsza i~mniejsze sÄ… moÅ¼liwoÅ›ci jej poprawy.\\

Na wykresie z rysunku \ref{fig:experiments:angle:summary} reprezentujÄ…cym szacowanie kÄ…ta zgiÄ™cia rÄ™ki w~Å‚okciu widaÄ‡ mniejszÄ… poprawÄ™ pomiÄ™dzy porÃ³wnywanymi metodami. ([TODO] co to jest mniejsza poprawa pomiÄ™dzy metodami. To mi jakoÅ› po polsku nie brzmi) MoÅ¼na na tej podstawie wyciÄ…gnÄ…Ä‡ wniosek, Å¼e znaczÄ…cy wpÅ‚yw na ogÃ³lnÄ… dokÅ‚adnoÅ›Ä‡ dziaÅ‚ania obu metod ma zastosowanie w~autorskiej metodzie, staÅ‚ej dÅ‚ugoÅ›ci segmentÃ³w reprezentujÄ…cych koÅ›ci modelu szkieletowego ([TODO] znowu trochÄ™ nie po polsku, bo na dokÅ‚adnoÅ›Ä‡ 2 metod ma wpÅ‚yw zmiana zastosowana w jednej metodzie? Nie rozumiem). Poprawienie szacowania wartoÅ›ci kÄ…ta zgiÄ™cia rÄ™ki Å›wiadczy natomiast o~zmniejszeniu wystÄ™powania drgaÅ„ poszczegÃ³lnych segmentÃ³w modelu szkieletowego wyznaczonego przez metodÄ™ autora tej pracy.

\pgfplotsset{width=12cm,compat=1.8}
%w poniÅ¼szych rysunkach wprowadzenie w pionowej osi mdo potÄ™gi -2 sÄ… bez sensu. Przeciez to sa centymetry. Nie wiadomo co oznaczajÄ… metry/centymetry na pionowej osi
\begin{figure}[!htb]
	\centering
	\begin{tikzpicture}
		\begin{axis}[
				ybar,
				bar width=.5cm,
				width=\textwidth,
				height=.5\textwidth,
				legend style={at={(0.5,1)},
					anchor=north,legend columns=-1},
				symbolic x coords={ex 1,ex 2,ex 3,ex 4},
				xticklabels={Ä†wiczenie 1,Ä†wiczenie 2,Ä†wiczenie 3,Ä†wiczenie 4},
				xtick=data,
				ymin=0,ymax=5,
				ylabel={cm},
			]
			\addplot [blue!20!black,fill=blue!80!white,error bars/.cd,y dir=both,y explicit] coordinates { 
				(ex 1,2.6) +- (0.0, 0.07)         
				(ex 2,3.1) +- (0.0, 0.11)
				(ex 3,2.9) +- (0.0, 0.18)  
			(ex 4,2.5) +- (0.0, 0.08) };
			\addplot [orange!20!black,fill=orange!80!white,error bars/.cd,y dir=both,y explicit] coordinates { 
				(ex 1,2.2) +- (0.0, 0.08)         
				(ex 2,2.5) +- (0.0, 0.14)
				(ex 3,2.5) +- (0.0, 0.23)  
			(ex 4,2.3) +- (0.0, 0.16) };
			\legend{Metoda Kalkbrennera, Metoda autorska}
			\node at (axis cs:ex 1,4){\textcolor{red}{13\%}};
			\node at (axis cs:ex 2,4){\textcolor{red}{18\%}};
			\node at (axis cs:ex 3,4){\textcolor{red}{14\%}};
			\node at (axis cs:ex 4,4){\textcolor{red}{7\%}};
		\end{axis}
	\end{tikzpicture}	
	\caption{Åšrednia dokÅ‚adnoÅ›Ä‡ wyznaczania pozycji Å‚okcia}
	\label{fig:experiments:elbow:summary}
\end{figure}

\begin{figure}[!htb]
	\centering
	\begin{tikzpicture}
		\begin{axis}[
				ybar,
				bar width=.5cm,
				width=\textwidth,
				height=.5\textwidth,
				legend style={at={(0.5,1)},
					anchor=north,legend columns=-1},
				symbolic x coords={ex 1,ex 2,ex 3,ex 4},
				xtick=data,
				ymin=0,ymax=5,
				xticklabels={Ä†wiczenie 1,Ä†wiczenie 2,Ä†wiczenie 3,Ä†wiczenie 4},
				ylabel={cm},
			]
			\addplot [blue!20!black,fill=blue!80!white,error bars/.cd,y dir=both,y explicit] coordinates { 
				(ex 1,3.0) +- (0.0, 0.05)
				(ex 2,3.4) +- (0.0, 0.1)
				(ex 3,3.3) +- (0.0, 0.24)
			(ex 4,2.8) +- (0.0, 0.04)};
			\addplot  [orange!20!black,fill=orange!80!white,error bars/.cd,y dir=both,y explicit] coordinates { 
				(ex 1,2.9) +- (0.0, 0.07)
				(ex 2,2.9) +- (0.0, 0.12)
				(ex 3,2.8) +- (0.0, 0.2)
			(ex 4,2.5) +- (0.0, 0.07)};
										
			\legend{Metoda Kalkbrennera, Metoda autorska}
			\node at (axis cs:ex 1,4){\textcolor{red}{8\%}};
			\node at (axis cs:ex 2,4){\textcolor{red}{16\%}};
			\node at (axis cs:ex 3,4){\textcolor{red}{14\%}};
			\node at (axis cs:ex 4,4){\textcolor{red}{9\%}};
		\end{axis}
	\end{tikzpicture}
	\caption{Åšrednia dokÅ‚adnoÅ›Ä‡ wyznaczania pozycji nadgarstka}
	\label{fig:experiments:wrist:summary}
\end{figure}


\begin{figure}[!htb]
	\centering
	\begin{tikzpicture}
		\begin{axis}[
				ybar,
				bar width=.5cm,
				width=\textwidth,
				height=.5\textwidth,
				legend style={at={(0.5,1)},
					anchor=north,legend columns=-1},
				symbolic x coords={ex 1,ex 2,ex 3,ex 4},
				xtick=data,
				xticklabels={Ä†wiczenie 1,Ä†wiczenie 2,Ä†wiczenie 3,Ä†wiczenie 4},
				ymin=0,ymax=20,
				ylabel={\degree},
			]
			\addplot+[blue!20!black,fill=blue!80!white,error bars/.cd,y dir=both,y explicit] coordinates { 
				(ex 1,3.54) +- (0.0, 0.12)
				(ex 2,14.49) +- (0.0, 0.77)
				(ex 3,14.71) +- (0.0, 1.57)
				(ex 4,4.65)  +- (0.0, 0.32)
			};
			\addplot+[orange!20!black,fill=orange!80!white,error bars/.cd,y dir=both,y explicit] coordinates { 
				(ex 1,3.29) +- (0.0, 0.12)
				(ex 2,13.35)+- (0.0, 0.65)
				(ex 3,14.08)+- (0.0, 1.55)
			(ex 4,4.11)  +- (0.0, 0.29)};
										
			\legend{Metoda Kalkbrennera, Metoda autorska}
			\node at (axis cs:ex 1,16){\textcolor{red}{6\%}};
			\node at (axis cs:ex 2,16){\textcolor{red}{8\%}};
			\node at (axis cs:ex 3,16){\textcolor{red}{4\%}};
			\node at (axis cs:ex 4,16){\textcolor{red}{11\%}};
		\end{axis}
	\end{tikzpicture}	
	\caption{Åšrednia dokÅ‚adnoÅ›Ä‡ wyznaczania kÄ…ta zgiÄ™cia rÄ™ki w~Å‚okciu}
	\label{fig:experiments:angle:summary}
\end{figure}